# 정규화

### 제 3 정규형   
제 2 정규형이 완료된 후 이행적 함수 종속성을 제거한 정규형이다.
    
    이행적 함수 종속성이란 ?
    어떤 Key X 가 Y를 결정하고, 그 Y가 Z를 결정한다.  
    따라서 X 가 Z를 결정지을 때, 이행적 함수 종속이라고 하며 Transitive FD 라고 표현한다.   
    단, Y와 Z는 어떠한 키의 부분집합이어선 안된다.

- 정의는 어렵고 이해도 잘 안된다...    
쉽게 말하면 Key가 아닌 컬럼에 종속된 컬럼이 존재한다면 테이블을 분리한다.
- 예시  
    <img src="https://user-images.githubusercontent.com/70866410/231767965-2c68dcfb-92b9-4ea1-9ae3-894f1c4f1dc4.png">   
    - 부분 종속이 없는 제 2 정규형의 테이블이다.
    - `출신 대학` 컬럼을 보면 `PK`에도 종속적이지만, `강사 컬럼`으로도 충분히 결정지을 수 있다.   
    즉, 함수 종속성이 `프로그램(PK)` → `강사`, `강사` → `출신 대학`인 상황이고 이는 바로 위에서 말했던 이행적 함수 종속 상태이다.   
    <br>   


    <img src="https://user-images.githubusercontent.com/70866410/231769178-413fe636-fe76-4414-992b-774ac1abd06e.png">  
    
    - 따라서 제 3 정규화를 마치면 이런 테이블이 만들어 진다.

> 일반적으로 제 3 정규화를 마치면, '정규화 되었다' 라고 표현할 수 있다.

### 보이스/코드(Boyce/Codd) 정규형 
모든 결정자, 즉 함수 종속성이 존재할 때 Left Hand Side는 `Super Key`여야 한다.
- 예시
    <img src="https://user-images.githubusercontent.com/70866410/231774815-57f9dbca-79d7-4b46-a9e8-5b3cf667f330.png">    
    - 위 예시에서 플랫폼 별 등급은 다음과 같다.
        - 인프런 : Bronze, Silver, Gold, Diamond
        - 유데미 : VIP, RVIP, SVIP
    - 그렇다면 `등급` → `플랫폼` 이라는 함수 종속성이 존재하게 된다.    
    이 때, `등급`은 결정자가 되었지만 중복해서 등장한다.   
    <br>
  
    <img src="https://user-images.githubusercontent.com/70866410/231776438-5ab6ac04-306c-4b14-9731-f01cf7d83d81.png">    
    
    - 따라서 등급과 플랫폼을 별도의 테이블로 분리하면 위와 같은 형태가 되고, 보이스/코드 정규형을 만족한 상태가 된다.


### 역 정규화 (반 정규화)

테이블을 너무 잘게 분리하면 사용할 때 `JOIN`연산을 많이 해야하고, 또 복잡해지기 때문에 테이블을 분리하지 않고, 사용하는 것을 의미한다.

역 정규화를 위해 특정한 기법이 존재하는 것은 아니고, 정규화 과정을 거친 후 비용 문제나 운영상의 문제 때문에 다시 되돌아오거나 중복을 허용하도록 구조를 재조정할 수 있는 것이다.

> 과도한 JOIN과 중복 데이터의 최소화 사이에서, 적정 수준을 잘 선택할 필요가 있다!




### 참고 자료
---
- [제 3 정규형 예제 테이블 : Youtube 코딩애플 - 정규화](https://youtu.be/Y1FbowQRcmI)   
- [정규화 : Youtube 쉬운 코드](https://youtu.be/5QhkZkrqFL4?list=TLPQMTMwNDIwMjMHqJlTHVNO8g)
